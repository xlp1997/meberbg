{"version":3,"sources":["webpack:///static/js/5.f4b7826857730089f2df.js","webpack:///src/page/goodsManage/pindanEdit.vue","webpack:///./src/page/goodsManage/pindanEdit.vue?9f66","webpack:///./src/page/goodsManage/pindanEdit.vue?2e85","webpack:///./src/page/goodsManage/pindanEdit.vue","webpack:///./src/page/goodsManage/pindanEdit.vue?7045"],"names":["webpackJsonp","9MDW","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__config_fetch__","data","pickerOptions0","disabledDate","time","getTime","Date","now","value11","id","commodityId","commodityTypeId","collageNumber","collagePrice","commodityNumber","endTime","headMoney","isCollage","Type","pindanType","value","label","pindanTypeVal","info","methods","timestampToTime","timestamp","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","cancel","xiugai","_this","this","date_value","i","$route","params","gid","tid","type","then","code","$parent","closeJump","$notify","error","title","message","msg","pageData","_this2","formatTime","mounted","ICWn","render","_vm","_h","$createElement","_c","_self","ref","attrs","label-width","clearable","placeholder","model","callback","$$v","expression","_l","item","key","_v","picker-options","format","value-format","scopedSlots","_u","fn","scope","size","on","click","$event","$index","row","staticRenderFns","esExports","K7Ke","exports","content","locals","Uo0I","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_pindanEdit_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_a45fe30c_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_pindanEdit_vue__","normalizeComponent","__vue_styles__","Component","gzU7","push","version","sources","names","mappings","file","sourceRoot"],"mappings":"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","file":"static/js/5.f4b7826857730089f2df.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ \"9MDW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__config_fetch__ = __webpack_require__(\"KOga\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      pickerOptions0: {\n        disabledDate: function disabledDate(time) {\n          return time.getTime() < Date.now();\n        }\n      },\n      value11: \"\",\n      id: \"\", //\t拼团设置Id\n      commodityId: \"\", //\t商品Id\n      commodityTypeId: \"\", //\t商品种类Id\n      collageNumber: \"\", //拼团数量\n      collagePrice: \"\", //\t拼团单价\n      commodityNumber: \"\", //\t商品数量\n      endTime: \"\", //拼团结束时间\n      headMoney: \"\", //\t团长佣金\n      isCollage: \"\", //是否拼团 1是 2否\n      Type: \"\", //无数据 传 1// 有数据 传2\n\n      //是否实体店数组\n      pindanType: [{\n        value: 1,\n        label: \"是\"\n      }, {\n        value: 2,\n        label: \"否\"\n      }],\n\n      pindanTypeVal: \"\", //是否实体店值\n      info: \"\"\n    };\n  },\n\n  methods: {\n    timestampToTime: function timestampToTime(timestamp) {\n      var date = new Date(timestamp * 1000); //时间戳为10位需*1000，时间戳为13位的话不需乘1000\n      var Y = date.getFullYear() + \"-\";\n      var M = (date.getMonth() + 1 < 10 ? \"0\" + (date.getMonth() + 1) : date.getMonth() + 1) + \"-\";\n      var D = date.getDate() + \" \";\n      var h = date.getHours() + \":\";\n      var m = date.getMinutes() + \":\";\n      var s = date.getSeconds();\n      return Y + M + D + h + m + s;\n    },\n    cancel: function cancel() {},\n\n    //取消发布\n    xiugai: function xiugai() {\n      var _this = this;\n\n      var date = new Date(\"\" + this.endTime);\n      var date_value = date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate();\n      // +\n      // \" \" +\n      // date.getHours() +\n      // \":\" +\n      // date.getMinutes() +\n      // \":\" +\n      // date.getSeconds();\n      // yyyy-MM-dd hh:mm:ss\n      // alert(date_value);\n      this.endTime = date_value;\n      // alert(this.info);\n      if (this.info) {\n        //编辑\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__config_fetch__[\"a\" /* async */])(\"/collageController/updateCollageSet.do\", {\n          // Id\t拼团设置Id\n          id: this.$route.params.id,\n\n          commodityId: this.$route.params.gid, //\t商品Id\n          commodityTypeId: this.$route.params.tid, //\t商品种类Id\n          collageNumber: this.collageNumber, //\t拼团数量\n          collagePrice: this.collagePrice, //\t拼团单价\n          commodityNumber: this.commodityNumber, //商品数量\n          endTime: this.endTime, //拼团结束时间\n          headMoney: this.headMoney, //\t团长佣金\n          isCollage: this.isCollage, //\t是否拼团 1是 2否\n          type: \"2\" //\t无数据 传 1\n          // 有数据 传2\n        }, \"POST\").then(function (data) {\n          if (data.code == 200) {\n            _this.$parent.closeJump(\"拼单设置\", \"/pindanSet/\" + _this.$route.params.gid);\n          } else {\n            _this.$notify.error({\n              title: \"错误\",\n              message: \"加载失败！\" + data.msg\n            });\n          }\n        });\n      } else {\n        //  新增\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__config_fetch__[\"a\" /* async */])(\"/collageController/updateCollageSet.do\", {\n          // Id\t拼团设置Id\n          id: this.$route.params.id,\n\n          commodityId: this.$route.params.gid, //\t商品Id\n          commodityTypeId: this.$route.params.tid, //\t商品种类Id\n          collageNumber: this.collageNumber, //\t拼团数量\n          collagePrice: this.collagePrice, //\t拼团单价\n          commodityNumber: this.commodityNumber, //商品数量\n          endTime: this.endTime, //拼团结束时间\n          headMoney: this.headMoney, //\t团长佣金\n          isCollage: this.isCollage, //\t是否拼团 1是 2否\n          type: \"2\" //\t无数据 传 1\n          // 有数据 传2\n        }, \"POST\").then(function (data) {\n          if (data.code == 200) {\n            _this.$parent.closeJump(\"拼单设置\", \"/pindanSet/\" + _this.$route.params.gid);\n          } else {\n            _this.$notify.error({\n              title: \"错误\",\n              message: \"加载失败！\" + data.msg\n            });\n          }\n        });\n      }\n    },\n    pageData: function pageData() {\n      var _this2 = this;\n\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__config_fetch__[\"a\" /* async */])(\"/collageController/queryCollageSetDetails.do\", {\n        // Id\t拼团设置Id\n        commodityTypeId: this.$route.params.tid //\t商品种类Id\n      }, \"POST\").then(function (data) {\n        if (data.code == 200) {\n          _this2.info = data.info;\n\n          _this2.isCollage = data.info.isCollage;\n          _this2.collageNumber = data.info.collageNumber;\n          _this2.headMoney = data.info.headMoney;\n          _this2.collagePrice = data.info.collagePrice;\n          _this2.commodityNumber = data.info.commodityNumber;\n          _this2.endTime = _this2.formatTime(data.info.endTime, \"yyyy-MM-dd\");\n        } else {\n          _this2.$notify.error({\n            title: \"错误\",\n            message: \"加载失败！\"\n          });\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.pageData();\n  }\n});\n\n/***/ }),\n\n/***/ \"ICWn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('z-modular',[_c('el-form',{ref:\"companyInfo\",attrs:{\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"是否开启拼单\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"是否开启拼单\"},model:{value:(_vm.isCollage),callback:function ($$v) {_vm.isCollage=$$v},expression:\"isCollage\"}},_vm._l((_vm.pindanType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})),_vm._v(\"（开启拼单后不能修改）\\n                \")],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"拼单单价（元）\"}},[_c('el-input',{model:{value:(_vm.collagePrice),callback:function ($$v) {_vm.collagePrice=$$v},expression:\"collagePrice\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"拼成人数\"}},[_c('el-input',{model:{value:(_vm.collageNumber),callback:function ($$v) {_vm.collageNumber=$$v},expression:\"collageNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"拼成奖励（元）\"}},[_c('el-input',{model:{value:(_vm.headMoney),callback:function ($$v) {_vm.headMoney=$$v},expression:\"headMoney\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"供拼数量\"}},[_c('el-input',{model:{value:(_vm.commodityNumber),callback:function ($$v) {_vm.commodityNumber=$$v},expression:\"commodityNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束时间\"}},[_c('el-date-picker',{attrs:{\"picker-options\":_vm.pickerOptions0,\"type\":\"date\",\"placeholder\":\"选择日期\",\"format\":\"yyyy - MM - dd\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.endTime),callback:function ($$v) {_vm.endTime=$$v},expression:\"endTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.xiugai(scope.$index,scope.row)}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"K7Ke\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"gzU7\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"34d11c99\", content, true, {});\n\n/***/ }),\n\n/***/ \"Uo0I\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_pindanEdit_vue__ = __webpack_require__(\"9MDW\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_a45fe30c_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_pindanEdit_vue__ = __webpack_require__(\"ICWn\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"K7Ke\")\n}\nvar normalizeComponent = __webpack_require__(\"C7Lr\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_pindanEdit_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_a45fe30c_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_pindanEdit_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"gzU7\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"UTlt\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"pindanEdit.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/5.f4b7826857730089f2df.js","<template>\r\n    <div>\r\n       <z-modular>\r\n            <el-form ref=\"companyInfo\" label-width=\"150px\">\r\n                <el-form-item label=\"是否开启拼单\">\r\n\r\n               <el-select  clearable v-model=\"isCollage\" placeholder=\"是否开启拼单\">\r\n                 \r\n\t\t\t\t\t<el-option\r\n\t\t\t\t\t\tv-for=\"item in pindanType\"\r\n\t\t\t\t\t\t:key=\"item.value\"\r\n\t\t\t\t\t\t:label=\"item.label\"\r\n\t\t\t\t\t\t:value=\"item.value\">\r\n\t\t\t\t\t</el-option>\r\n\t\t\t\t</el-select>（开启拼单后不能修改）\r\n                </el-form-item>\r\n                <el-form-item label=\"拼单单价（元）\">\r\n                    <el-input v-model=\"collagePrice\" ></el-input>\r\n                </el-form-item>  \r\n                  <el-form-item label=\"拼成人数\">\r\n                    <el-input v-model=\"collageNumber\" ></el-input>\r\n                </el-form-item>  \r\n                  <el-form-item label=\"拼成奖励（元）\">\r\n                    <el-input  v-model=\"headMoney\"></el-input>\r\n                </el-form-item>  \r\n                  <el-form-item label=\"供拼数量\">\r\n                    <el-input v-model=\"commodityNumber\" ></el-input>\r\n                </el-form-item>  \r\n                 <!-- {{endTime}} -->\r\n                      <el-form-item label=\"结束时间\">\r\n                  <el-date-picker  :picker-options=\"pickerOptions0\" v-model=\"endTime\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy - MM - dd\" value-format=\"yyyy-MM-dd\">\r\n    </el-date-picker>\r\n                </el-form-item> \r\n\r\n                 \r\n                <!-- 结束时间 -->\r\n                <el-form-item>  \r\n\t\t      <template slot-scope=\"scope\">\r\n\t\t        <el-button type=\"primary\" size=\"small\" @click=\"xiugai(scope.$index,scope.row)\">保存</el-button>\r\n\t\t        <el-button type=\"danger\"  @click=\"cancel\" size=\"small\">取消</el-button>\r\n            \r\n          </template>\r\n                </el-form-item>  \r\n            </el-form>\r\n       </z-modular>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { async } from \"@/config/fetch\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      pickerOptions0: {\r\n        disabledDate(time) {\r\n          return time.getTime() < Date.now();\r\n        }\r\n      },\r\n      value11: \"\",\r\n      id: \"\", //\t拼团设置Id\r\n      commodityId: \"\", //\t商品Id\r\n      commodityTypeId: \"\", //\t商品种类Id\r\n      collageNumber: \"\", //拼团数量\r\n      collagePrice: \"\", //\t拼团单价\r\n      commodityNumber: \"\", //\t商品数量\r\n      endTime: \"\", //拼团结束时间\r\n      headMoney: \"\", //\t团长佣金\r\n      isCollage: \"\", //是否拼团 1是 2否\r\n      Type: \"\", //无数据 传 1// 有数据 传2\r\n\r\n      //是否实体店数组\r\n      pindanType: [\r\n        {\r\n          value: 1,\r\n          label: \"是\"\r\n        },\r\n        {\r\n          value: 2,\r\n          label: \"否\"\r\n        }\r\n      ],\r\n\r\n      pindanTypeVal: \"\", //是否实体店值\r\n      info: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    timestampToTime(timestamp) {\r\n      var date = new Date(timestamp * 1000); //时间戳为10位需*1000，时间戳为13位的话不需乘1000\r\n      var Y = date.getFullYear() + \"-\";\r\n      var M =\r\n        (date.getMonth() + 1 < 10\r\n          ? \"0\" + (date.getMonth() + 1)\r\n          : date.getMonth() + 1) + \"-\";\r\n      var D = date.getDate() + \" \";\r\n      var h = date.getHours() + \":\";\r\n      var m = date.getMinutes() + \":\";\r\n      var s = date.getSeconds();\r\n      return Y + M + D + h + m + s;\r\n    },\r\n    cancel() {},\r\n    //取消发布\r\n    xiugai() {\r\n      var date = new Date(\"\" + this.endTime);\r\n      var date_value =\r\n        date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate();\r\n      // +\r\n      // \" \" +\r\n      // date.getHours() +\r\n      // \":\" +\r\n      // date.getMinutes() +\r\n      // \":\" +\r\n      // date.getSeconds();\r\n      // yyyy-MM-dd hh:mm:ss\r\n      // alert(date_value);\r\n      this.endTime = date_value;\r\n      // alert(this.info);\r\n      if (this.info) {\r\n        //编辑\r\n        async(\r\n          \"/collageController/updateCollageSet.do\",\r\n          {\r\n            // Id\t拼团设置Id\r\n            id: this.$route.params.id,\r\n\r\n            commodityId: this.$route.params.gid, //\t商品Id\r\n            commodityTypeId: this.$route.params.tid, //\t商品种类Id\r\n            collageNumber: this.collageNumber, //\t拼团数量\r\n            collagePrice: this.collagePrice, //\t拼团单价\r\n            commodityNumber: this.commodityNumber, //商品数量\r\n            endTime: this.endTime, //拼团结束时间\r\n            headMoney: this.headMoney, //\t团长佣金\r\n            isCollage: this.isCollage, //\t是否拼团 1是 2否\r\n            type: \"2\" //\t无数据 传 1\r\n            // 有数据 传2\r\n          },\r\n          \"POST\"\r\n        ).then(data => {\r\n          if (data.code == 200) {\r\n            this.$parent.closeJump(\r\n              \"拼单设置\",\r\n              \"/pindanSet/\" + this.$route.params.gid\r\n            );\r\n          } else {\r\n            this.$notify.error({\r\n              title: \"错误\",\r\n              message: \"加载失败！\" + data.msg\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        //  新增\r\n        async(\r\n          \"/collageController/updateCollageSet.do\",\r\n          {\r\n            // Id\t拼团设置Id\r\n            id: this.$route.params.id,\r\n\r\n            commodityId: this.$route.params.gid, //\t商品Id\r\n            commodityTypeId: this.$route.params.tid, //\t商品种类Id\r\n            collageNumber: this.collageNumber, //\t拼团数量\r\n            collagePrice: this.collagePrice, //\t拼团单价\r\n            commodityNumber: this.commodityNumber, //商品数量\r\n            endTime: this.endTime, //拼团结束时间\r\n            headMoney: this.headMoney, //\t团长佣金\r\n            isCollage: this.isCollage, //\t是否拼团 1是 2否\r\n            type: \"2\" //\t无数据 传 1\r\n            // 有数据 传2\r\n          },\r\n          \"POST\"\r\n        ).then(data => {\r\n          if (data.code == 200) {\r\n            this.$parent.closeJump(\r\n              \"拼单设置\",\r\n              \"/pindanSet/\" + this.$route.params.gid\r\n            );\r\n          } else {\r\n            this.$notify.error({\r\n              title: \"错误\",\r\n              message: \"加载失败！\" + data.msg\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    pageData() {\r\n      async(\r\n        \"/collageController/queryCollageSetDetails.do\",\r\n        {\r\n          // Id\t拼团设置Id\r\n          commodityTypeId: this.$route.params.tid //\t商品种类Id\r\n        },\r\n        \"POST\"\r\n      ).then(data => {\r\n        if (data.code == 200) {\r\n          this.info = data.info;\r\n\r\n          this.isCollage = data.info.isCollage;\r\n          this.collageNumber = data.info.collageNumber;\r\n          this.headMoney = data.info.headMoney;\r\n          this.collagePrice = data.info.collagePrice;\r\n          this.commodityNumber = data.info.commodityNumber;\r\n          this.endTime = this.formatTime(data.info.endTime, \"yyyy-MM-dd\");\r\n        } else {\r\n          this.$notify.error({\r\n            title: \"错误\",\r\n            message: \"加载失败！\"\r\n          });\r\n        }\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.pageData();\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/goodsManage/pindanEdit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('z-modular',[_c('el-form',{ref:\"companyInfo\",attrs:{\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"是否开启拼单\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"是否开启拼单\"},model:{value:(_vm.isCollage),callback:function ($$v) {_vm.isCollage=$$v},expression:\"isCollage\"}},_vm._l((_vm.pindanType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})),_vm._v(\"（开启拼单后不能修改）\\n                \")],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"拼单单价（元）\"}},[_c('el-input',{model:{value:(_vm.collagePrice),callback:function ($$v) {_vm.collagePrice=$$v},expression:\"collagePrice\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"拼成人数\"}},[_c('el-input',{model:{value:(_vm.collageNumber),callback:function ($$v) {_vm.collageNumber=$$v},expression:\"collageNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"拼成奖励（元）\"}},[_c('el-input',{model:{value:(_vm.headMoney),callback:function ($$v) {_vm.headMoney=$$v},expression:\"headMoney\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"供拼数量\"}},[_c('el-input',{model:{value:(_vm.commodityNumber),callback:function ($$v) {_vm.commodityNumber=$$v},expression:\"commodityNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束时间\"}},[_c('el-date-picker',{attrs:{\"picker-options\":_vm.pickerOptions0,\"type\":\"date\",\"placeholder\":\"选择日期\",\"format\":\"yyyy - MM - dd\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.endTime),callback:function ($$v) {_vm.endTime=$$v},expression:\"endTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.xiugai(scope.$index,scope.row)}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-a45fe30c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/page/goodsManage/pindanEdit.vue\n// module id = ICWn\n// module chunks = 5","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a45fe30c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./pindanEdit.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"34d11c99\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.1.2@vue-style-loader!./~/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-a45fe30c\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/page/goodsManage/pindanEdit.vue\n// module id = K7Ke\n// module chunks = 5","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a45fe30c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./pindanEdit.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./pindanEdit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./pindanEdit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a45fe30c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./pindanEdit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/goodsManage/pindanEdit.vue\n// module id = Uo0I\n// module chunks = 5","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"pindanEdit.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-a45fe30c\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/page/goodsManage/pindanEdit.vue\n// module id = gzU7\n// module chunks = 5"],"sourceRoot":""}